function B(){import.meta.url,import("_").catch(()=>1);async function*t(){}}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();const b=()=>{const t=document.querySelector(".post__text"),o="Привет! Я новичок в программировании. Подскажите, с какого языка лучше начать? Только не предлагайте JavaScript, он очень сложный....";t.textContent=o},A=t=>{const{triggerSelector:o,likeSelector:i,counterSelector:e,defaultLike:r="fa-regular",activeLike:s="fa-solid",activeCounter:n="like-counter_red"}=t,d=document.querySelectorAll(o),m=document.querySelectorAll(i),c=document.querySelectorAll(e);let a;c.forEach(u=>{a=+u.textContent,a===0&&(u.style.display="none")}),d.forEach((u,l)=>{u.addEventListener("click",()=>{a=+c[l].textContent,m[l].classList.contains(r)?(c[l].style.display="flex",a++,m[l].classList.remove(r),m[l].classList.add(s),c[l].classList.add(n),c[l].textContent=a):(a--,a===0&&(c[l].style.display="none"),m[l].classList.add(r),m[l].classList.remove(s),c[l].classList.remove(n),c[l].textContent=a)})})},T=()=>{const t=document.querySelector(".commentaries-form"),o=document.querySelector(".speech-wrapper"),i=document.querySelector(".message-help__text_blue");o.addEventListener("click",()=>{t.classList.toggle("commentaries-form_hidden")}),i.addEventListener("click",()=>{t.classList.remove("commentaries-form_hidden")})},C=t=>{let o=t.split("-").reverse().join(".");const i=new Date,e=d=>d<10?`0${d}`:d,r=e(i.getDate()),s=e(i.getDate()-1),n=e(i.getDate()-2);switch(o||(o=`${e(i.getDate())}.${e(+i.getMonth()+1)}.${i.getFullYear()}`),!0){case o.startsWith(r):return o="сегодня";case o.startsWith(s):return o="вчера";case o.startsWith(n):return o="2 дня назад";default:return o}},z=t=>{let o=t.split("-").reverse().join("-");const i=new Date,e=r=>r<10?`0${r}`:r;return o||(o=`${e(i.getDate())}-${e(+i.getMonth()+1)}-${i.getFullYear()}`),o},D=(t,o)=>{document.querySelectorAll(".commentaries__item").forEach((e,r)=>{e.querySelector(".commentaries__delete").addEventListener("click",()=>{e.remove(),t.splice(r,1),_(t,o)})})},N=t=>{const o=document.querySelector(".answer-counter");t?(o.style.display="flex",o.textContent=t):o.style.display="none"},_=(t,o)=>{const i=document.querySelector(".commentaries-form");N(t.length),((r,s,n,d)=>{const m=document.querySelector(".commentaries"),c=document.querySelector(".message-help");r.length?(m.classList.remove(s),c.classList.add(n)):(m.classList.add(s),c.classList.remove(n),i.classList.add(d))})(t,"commentaries_hidden","message-help_hidden","commentaries-form_hidden"),o.innerHTML="",t.forEach((r,s)=>{o.innerHTML+=`
        <li class="commentaries__item">
        <div class="commentaries__header">
        <section
        class="commentaries__author-wrapper"
        >
        <h3 class="commentaries__author">
        
        </h3>
        <time
        class="commentaries__date"
        datetime=${r.dateForTimeAttr}
        >${r.date}</time
        >
        </section>
        <i
        class="commentaries__delete fa-regular fa-trash-can"
        title="Удалить комментарий"
        ></i>
        </div>
        <div class="commentaries__content">
        <p class="commentaries__text">
        
        </p>
        <div
        class="commentaries-actions"
        title="Нравится"
        >
        <i
        class="commentaries-actions__icon fa-regular fa-heart commentaries-like"
        ></i>
        <div
        class="commentaries-actions__counter commentaries-like-counter"
        >
        0
        </div>
        </div>
        </div>
    </li>
    `;const n=document.querySelectorAll(".commentaries__author");n[s].textContent=r.author;const d=document.querySelectorAll(".commentaries__text");d[s].textContent=r.comment,D(t,o),A({triggerSelector:".commentaries-actions",likeSelector:".commentaries-like",counterSelector:".commentaries-like-counter"})})},H=()=>{const t=document.querySelector(".commentaries-form"),o=t.querySelector(".commentaries-form__name"),i=document.querySelector(".commentaries-form__date"),e=t.querySelector(".commentaries-form__text-field"),r=document.querySelector(".commentaries__list"),s=t.querySelector(".commentaries-form__close"),n=document.createElement("div");n.classList.add("commentaries-form__error_hidden"),n.textContent="Это поле обязательно для заполнения!",e.parentNode.before(n);const d=[];_(d,r);const m=c=>{if(c.which===13&&!c.shiftKey){if(c.preventDefault(),!c.repeat){const a=new Event("submit",{cancelable:!0});c.target.form.dispatchEvent(a)}t.reset()}};return e.addEventListener("keydown",m),s.addEventListener("click",()=>{t.classList.add("commentaries-form_hidden")}),t.addEventListener("submit",c=>{c.preventDefault();const a={author:o.value,date:C(i.value),dateForTimeAttr:z(i.value),comment:e.value};d.push(a),_(d,r),c.target.reset()}),d};var y=new Map;function W(t){var o=y.get(t);o&&o.destroy()}function $(t){var o=y.get(t);o&&o.update()}var h=null;typeof window>"u"?((h=function(t){return t}).destroy=function(t){return t},h.update=function(t){return t}):((h=function(t,o){return t&&Array.prototype.forEach.call(t.length?t:[t],function(i){return function(e){if(e&&e.nodeName&&e.nodeName==="TEXTAREA"&&!y.has(e)){var r,s=null,n=window.getComputedStyle(e),d=(r=e.value,function(){c({testForHeightReduction:r===""||!e.value.startsWith(r),restoreTextAlign:null}),r=e.value}),m=function(u){e.removeEventListener("autosize:destroy",m),e.removeEventListener("autosize:update",a),e.removeEventListener("input",d),window.removeEventListener("resize",a),Object.keys(u).forEach(function(l){return e.style[l]=u[l]}),y.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,textAlign:e.style.textAlign,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",m),e.addEventListener("autosize:update",a),e.addEventListener("input",d),window.addEventListener("resize",a),e.style.overflowX="hidden",e.style.wordWrap="break-word",y.set(e,{destroy:m,update:a}),a()}function c(u){var l,p,w=u.restoreTextAlign,v=w===void 0?null:w,L=u.testForHeightReduction,q=L===void 0||L,k=n.overflowY;if(e.scrollHeight!==0&&(n.resize==="vertical"?e.style.resize="none":n.resize==="both"&&(e.style.resize="horizontal"),q&&(l=function(f){for(var S=[];f&&f.parentNode&&f.parentNode instanceof Element;)f.parentNode.scrollTop&&S.push([f.parentNode,f.parentNode.scrollTop]),f=f.parentNode;return function(){return S.forEach(function(E){var g=E[0],F=E[1];g.style.scrollBehavior="auto",g.scrollTop=F,g.style.scrollBehavior=null})}}(e),e.style.height=""),p=n.boxSizing==="content-box"?e.scrollHeight-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)):e.scrollHeight+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),n.maxHeight!=="none"&&p>parseFloat(n.maxHeight)?(n.overflowY==="hidden"&&(e.style.overflow="scroll"),p=parseFloat(n.maxHeight)):n.overflowY!=="hidden"&&(e.style.overflow="hidden"),e.style.height=p+"px",v&&(e.style.textAlign=v),l&&l(),s!==p&&(e.dispatchEvent(new Event("autosize:resized",{bubbles:!0})),s=p),k!==n.overflow&&!v)){var x=n.textAlign;n.overflow==="hidden"&&(e.style.textAlign=x==="start"?"end":"start"),c({restoreTextAlign:x,testForHeightReduction:!0})}}function a(){c({testForHeightReduction:!0,restoreTextAlign:null})}}(i)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],W),t},h.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],$),t});var M=h;const O=()=>{const t=document.querySelector(".commentaries-form__text-field");return M(t)};window.addEventListener("DOMContentLoaded",()=>{b(),A({triggerSelector:".like-wrapper",likeSelector:".post-like",counterSelector:".like-counter"}),T(),H(),O()});export{B as __vite_legacy_guard};
