function B(){import.meta.url,import("_").catch(()=>1);async function*t(){}}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&e(s)}).observe(document,{childList:!0,subtree:!0});function i(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(r){if(r.ep)return;r.ep=!0;const n=i(r);fetch(r.href,n)}})();const T=()=>{const t=document.querySelector(".post__text"),o="Привет! Я новичок в программировании. Подскажите, с какого языка лучше начать? Только не предлагайте JavaScript, он очень сложный....";t.textContent=o},_=t=>{const{triggerSelector:o,likeSelector:i,counterSelector:e,defaultLike:r="fa-regular",activeLike:n="fa-solid",activeCounter:s="like-counter_red"}=t,d=document.querySelectorAll(o),m=document.querySelectorAll(i),c=document.querySelectorAll(e);let l;c.forEach(f=>{l=+f.textContent,l===0&&(f.style.display="none")}),d.forEach((f,a)=>{f.addEventListener("click",()=>{l=+c[a].textContent,m[a].classList.contains(r)?(c[a].style.display="flex",l++,m[a].classList.remove(r),m[a].classList.add(n),c[a].classList.add(s),c[a].textContent=l):(l--,l===0&&(c[a].style.display="none"),m[a].classList.add(r),m[a].classList.remove(n),c[a].classList.remove(s),c[a].textContent=l)})})},q=()=>{const t=document.forms.commentaries,o=document.querySelector(".speech-wrapper"),i=document.querySelector(".message-help__text_blue"),e=document.querySelector(".commentaries-form__name");o.addEventListener("click",()=>{t.classList.toggle("commentaries-form_hidden"),e.focus()}),i.addEventListener("click",()=>{t.classList.remove("commentaries-form_hidden"),e.focus()})},C=t=>{let o=t.split("-").reverse().join(".");const i=new Date,e=d=>d<10?`0${d}`:d,r=e(i.getDate()),n=e(i.getDate()-1),s=e(i.getDate()-2);switch(o||(o=`${e(i.getDate())}.${e(+i.getMonth()+1)}.${i.getFullYear()}`),!0){case o.startsWith(r):return o="сегодня";case o.startsWith(n):return o="вчера";case o.startsWith(s):return o="2 дня назад";default:return o}},z=t=>{let o=t.split("-").reverse().join("-");const i=new Date,e=r=>r<10?`0${r}`:r;return o||(o=`${e(i.getDate())}-${e(+i.getMonth()+1)}-${i.getFullYear()}`),o},N=(t,o)=>{document.querySelectorAll(".commentaries__item").forEach((e,r)=>{e.querySelector(".commentaries__delete").addEventListener("click",()=>{e.remove(),t.splice(r,1),L(t,o)})})},D=t=>{const o=document.querySelector(".answer-counter");t?(o.style.display="flex",o.textContent=t):o.style.display="none"},L=(t,o)=>{const i=document.forms.commentaries;D(t.length),((r,n,s,d)=>{const m=document.querySelector(".commentaries"),c=document.querySelector(".message-help");r.length?(m.classList.remove(n),c.classList.add(s)):(m.classList.add(n),c.classList.remove(s),i.classList.add(d))})(t,"commentaries_hidden","message-help_hidden","commentaries-form_hidden"),o.innerHTML="",t.forEach((r,n)=>{o.innerHTML+=`
        <li class="commentaries__item">
            <div class="commentaries__header">
                <section class="commentaries__author-wrapper" >
                    <h3 class="commentaries__author"></h3>
                    <time class="commentaries__date" datetime=${r.dateForTimeAttr}>${r.date}</time>
                </section>
                <i class="commentaries__delete fa-regular fa-trash-can" title="Удалить комментарий"></i>
            </div>
            <div class="commentaries__content">
                <p class="commentaries__text"></p>
                <div class="commentaries-actions" title="Нравится">
                    <i class="commentaries-actions__icon fa-regular fa-heart commentaries-like"></i>
                    <div class="commentaries-actions__counter commentaries-like-counter">0</div>
                </div>
            </div>
        </li>
    `;const s=document.querySelectorAll(".commentaries__author");s[n].textContent=r.author;const d=document.querySelectorAll(".commentaries__text");d[n].textContent=r.comment,N(t,o),_({triggerSelector:".commentaries-actions",likeSelector:".commentaries-like",counterSelector:".commentaries-like-counter"})})},H=()=>{const t=document.forms.commentaries,o=t.elements.author,i=t.elements.date,e=t.elements.textfield,r=document.querySelector(".commentaries__list"),n=t.querySelector(".commentaries-form__close"),s=document.createElement("div");s.classList.add("commentaries-form__error_hidden"),s.textContent="Это поле обязательно для заполнения!",e.parentNode.before(s);const d=[];L(d,r);const m=c=>{if(c.which===13&&!c.shiftKey&&(c.preventDefault(),!c.repeat)){const l=new Event("submit",{cancelable:!0});c.target.form.dispatchEvent(l)}};return e.addEventListener("keydown",m),n.addEventListener("click",()=>{t.classList.add("commentaries-form_hidden")}),t.addEventListener("submit",c=>{c.preventDefault();const l=(a,u)=>{(!u.value||u.value.trim()==="")&&(u.addEventListener("input",()=>{a.removeAttribute("disabled"),s.classList.remove("commentaries-form__error"),s.classList.add("commentaries-form__error_hidden"),u.classList.remove("input_error")}),s.classList.add("commentaries-form__error"),s.classList.remove("commentaries-form__error_hidden"),u.classList.add("input_error"),u.focus(),a.setAttribute("disabled"))};l(e,o),l(o,e);const f={author:o.value,date:C(i.value),dateForTimeAttr:z(i.value),comment:e.value};d.push(f),L(d,r),c.target.reset()}),d};var v=new Map;function W(t){var o=v.get(t);o&&o.destroy()}function $(t){var o=v.get(t);o&&o.update()}var p=null;typeof window>"u"?((p=function(t){return t}).destroy=function(t){return t},p.update=function(t){return t}):((p=function(t,o){return t&&Array.prototype.forEach.call(t.length?t:[t],function(i){return function(e){if(e&&e.nodeName&&e.nodeName==="TEXTAREA"&&!v.has(e)){var r,n=null,s=window.getComputedStyle(e),d=(r=e.value,function(){c({testForHeightReduction:r===""||!e.value.startsWith(r),restoreTextAlign:null}),r=e.value}),m=function(f){e.removeEventListener("autosize:destroy",m),e.removeEventListener("autosize:update",l),e.removeEventListener("input",d),window.removeEventListener("resize",l),Object.keys(f).forEach(function(a){return e.style[a]=f[a]}),v.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,textAlign:e.style.textAlign,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",m),e.addEventListener("autosize:update",l),e.addEventListener("input",d),window.addEventListener("resize",l),e.style.overflowX="hidden",e.style.wordWrap="break-word",v.set(e,{destroy:m,update:l}),l()}function c(f){var a,u,w=f.restoreTextAlign,y=w===void 0?null:w,x=f.testForHeightReduction,k=x===void 0||x,b=s.overflowY;if(e.scrollHeight!==0&&(s.resize==="vertical"?e.style.resize="none":s.resize==="both"&&(e.style.resize="horizontal"),k&&(a=function(h){for(var S=[];h&&h.parentNode&&h.parentNode instanceof Element;)h.parentNode.scrollTop&&S.push([h.parentNode,h.parentNode.scrollTop]),h=h.parentNode;return function(){return S.forEach(function(A){var g=A[0],F=A[1];g.style.scrollBehavior="auto",g.scrollTop=F,g.style.scrollBehavior=null})}}(e),e.style.height=""),u=s.boxSizing==="content-box"?e.scrollHeight-(parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)):e.scrollHeight+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),s.maxHeight!=="none"&&u>parseFloat(s.maxHeight)?(s.overflowY==="hidden"&&(e.style.overflow="scroll"),u=parseFloat(s.maxHeight)):s.overflowY!=="hidden"&&(e.style.overflow="hidden"),e.style.height=u+"px",y&&(e.style.textAlign=y),a&&a(),n!==u&&(e.dispatchEvent(new Event("autosize:resized",{bubbles:!0})),n=u),b!==s.overflow&&!y)){var E=s.textAlign;s.overflow==="hidden"&&(e.style.textAlign=E==="start"?"end":"start"),c({restoreTextAlign:E,testForHeightReduction:!0})}}function l(){c({testForHeightReduction:!0,restoreTextAlign:null})}}(i)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],W),t},p.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],$),t});var M=p;const O=()=>{const t=document.querySelector(".commentaries-form__text-field");return M(t)};window.addEventListener("DOMContentLoaded",()=>{T(),_({triggerSelector:".like-wrapper",likeSelector:".post-like",counterSelector:".like-counter"}),_({triggerSelector:".commentaries-actions",likeSelector:".commentaries-like",counterSelector:".commentaries-like-counter"}),q(),H(),O()});export{B as __vite_legacy_guard};
